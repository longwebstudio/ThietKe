import{am as y,C as P,aU as V,D as Y,aV as T,ah as R,aW as $,aX as L,aY as q,aZ as D,a_ as I,a$ as N,b0 as U,I as j,o as K,O as Q,b1 as Z,S as k,b2 as G,Q as J}from"./BZOcpPos.js";function le(e={}){const{inheritAttrs:n=!0}=e,a=y(),m=P({setup(t,{slots:i}){return()=>{a.value=i.default}}}),p=P({inheritAttrs:n,props:e.props,setup(t,{attrs:i,slots:s}){return()=>{var o;a.value;const u=(o=a.value)==null?void 0:o.call(a,{...e.props==null?ee(i):t,$slots:s});return n&&(u==null?void 0:u.length)===1?u[0]:u}}});return V({define:m,reuse:p},[m,p])}function ee(e){const n={};for(const a in e)n[D(a)]=e[a];return n}const W=I?window:void 0,B=I?window.navigator:void 0;function X(e){var n;const a=R(e);return(n=a==null?void 0:a.$el)!=null?n:a}function M(...e){const n=[],a=()=>{n.forEach(s=>s()),n.length=0},m=(s,o,u,l)=>(s.addEventListener(o,u,l),()=>s.removeEventListener(o,u,l)),p=Y(()=>{const s=T(R(e[0])).filter(o=>o!=null);return s.every(o=>typeof o!="string")?s:void 0}),t=$(()=>{var s,o;return[(o=(s=p.value)==null?void 0:s.map(u=>X(u)))!=null?o:[W].filter(u=>u!=null),T(R(p.value?e[1]:e[0])),T(j(p.value?e[2]:e[1])),R(p.value?e[3]:e[2])]},([s,o,u,l])=>{if(a(),!(s!=null&&s.length)||!(o!=null&&o.length)||!(u!=null&&u.length))return;const v=U(l)?{...l}:l;n.push(...s.flatMap(d=>o.flatMap(h=>u.map(g=>m(d,h,g,v)))))},{flush:"post"}),i=()=>{t(),a()};return L(a),i}function te(){const e=y(!1),n=Q();return n&&K(()=>{e.value=!0},n),e}function z(e){const n=te();return Y(()=>(n.value,!!e()))}function ne(e,n,a={}){const{window:m=W,...p}=a;let t;const i=z(()=>m&&"MutationObserver"in m),s=()=>{t&&(t.disconnect(),t=void 0)},o=Y(()=>{const d=R(e),h=T(d).map(X).filter(G);return new Set(h)}),u=k(()=>o.value,d=>{s(),i.value&&d.size&&(t=new MutationObserver(n),d.forEach(h=>t.observe(h,p)))},{immediate:!0,flush:"post"}),l=()=>t==null?void 0:t.takeRecords(),v=()=>{u(),s()};return L(v),{isSupported:i,stop:v,takeRecords:l}}function F(e,n={}){const{controls:a=!1,navigator:m=B}=n,p=z(()=>m&&"permissions"in m),t=y(),i=typeof e=="string"?{name:e}:e,s=y(),o=()=>{var l,v;s.value=(v=(l=t.value)==null?void 0:l.state)!=null?v:"prompt"};M(t,"change",o,{passive:!0});const u=N(async()=>{if(p.value){if(!t.value)try{t.value=await m.permissions.query(i)}catch{t.value=void 0}finally{o()}if(a)return J(t.value)}});return u(),a?{state:s,isSupported:p,query:u}:s}function re(e={}){const{navigator:n=B,read:a=!1,source:m,copiedDuring:p=1500,legacy:t=!1}=e,i=z(()=>n&&"clipboard"in n),s=F("clipboard-read"),o=F("clipboard-write"),u=Y(()=>i.value||t),l=y(""),v=y(!1),d=q(()=>v.value=!1,p,{immediate:!1});async function h(){let r=!(i.value&&b(s.value));if(!r)try{l.value=await n.clipboard.readText()}catch{r=!0}r&&(l.value=E())}u.value&&a&&M(["copy","cut"],h,{passive:!0});async function g(r=R(m)){if(u.value&&r!=null){let f=!(i.value&&b(o.value));if(!f)try{await n.clipboard.writeText(r)}catch{f=!0}f&&S(r),l.value=r,v.value=!0,d.start()}}function S(r){const f=document.createElement("textarea");f.value=r??"",f.style.position="absolute",f.style.opacity="0",document.body.appendChild(f),f.select(),document.execCommand("copy"),f.remove()}function E(){var r,f,x;return(x=(f=(r=document==null?void 0:document.getSelection)==null?void 0:r.call(document))==null?void 0:f.toString())!=null?x:""}function b(r){return r==="granted"||r==="prompt"}return{isSupported:u,text:l,copied:v,copy:g}}function oe(e,n,a={}){const{window:m=W,...p}=a;let t;const i=z(()=>m&&"ResizeObserver"in m),s=()=>{t&&(t.disconnect(),t=void 0)},o=Y(()=>{const v=R(e);return Array.isArray(v)?v.map(d=>X(d)):[X(v)]}),u=k(o,v=>{if(s(),i.value&&m){t=new ResizeObserver(n);for(const d of v)d&&t.observe(d,p)}},{immediate:!0,flush:"post"}),l=()=>{s(),u()};return L(l),{isSupported:i,stop:l}}const se={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof MouseEvent?[e.movementX,e.movementY]:null};function ue(e={}){const{type:n="page",touch:a=!0,resetOnTouchEnds:m=!1,initialValue:p={x:0,y:0},window:t=W,target:i=t,scroll:s=!0,eventFilter:o}=e;let u=null,l=0,v=0;const d=y(p.x),h=y(p.y),g=y(null),S=typeof n=="function"?n:se[n],E=c=>{const O=S(c);u=c,O&&([d.value,h.value]=O,g.value="mouse"),t&&(l=t.scrollX,v=t.scrollY)},b=c=>{if(c.touches.length>0){const O=S(c.touches[0]);O&&([d.value,h.value]=O,g.value="touch")}},r=()=>{if(!u||!t)return;const c=S(u);u instanceof MouseEvent&&c&&(d.value=c[0]+t.scrollX-l,h.value=c[1]+t.scrollY-v)},f=()=>{d.value=p.x,h.value=p.y},x=o?c=>o(()=>E(c),{}):c=>E(c),w=o?c=>o(()=>b(c),{}):c=>b(c),C=o?()=>o(()=>r(),{}):()=>r();if(i){const c={passive:!0};M(i,["mousemove","dragover"],x,c),a&&n!=="movement"&&(M(i,["touchstart","touchmove"],w,c),m&&M(i,"touchend",f,c)),s&&n==="page"&&M(t,"scroll",C,c)}return{x:d,y:h,sourceType:g}}function ce(e,n={}){const{windowResize:a=!0,windowScroll:m=!0,handleOutside:p=!0,window:t=W}=n,i=n.type||"page",{x:s,y:o,sourceType:u}=ue(n),l=y(e??(t==null?void 0:t.document.body)),v=y(0),d=y(0),h=y(0),g=y(0),S=y(0),E=y(0),b=y(!0);function r(){if(!t)return;const w=X(l);if(!w||!(w instanceof Element))return;const{left:C,top:c,width:O,height:_}=w.getBoundingClientRect();h.value=C+(i==="page"?t.pageXOffset:0),g.value=c+(i==="page"?t.pageYOffset:0),S.value=_,E.value=O;const H=s.value-h.value,A=o.value-g.value;b.value=O===0||_===0||H<0||A<0||H>O||A>_,p&&(v.value=H,d.value=A)}const f=[];function x(){f.forEach(w=>w()),f.length=0}if(Z(()=>{r()}),t){const{stop:w}=oe(l,r),{stop:C}=ne(l,r,{attributeFilter:["style","class"]}),c=k([l,s,o],r);f.push(w,C,c),M(document,"mouseleave",()=>b.value=!0,{passive:!0}),m&&f.push(M("scroll",r,{capture:!0,passive:!0})),a&&f.push(M("resize",r,{passive:!0}))}return{x:s,y:o,sourceType:u,elementX:v,elementY:d,elementPositionX:h,elementPositionY:g,elementHeight:S,elementWidth:E,isOutside:b,stop:x}}export{M as a,re as b,le as c,ce as u};
